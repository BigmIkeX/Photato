<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.3.0.js"></script>
        <script src="https://cdn.jsdelivr.net/lightgallery/1.3.9/js/lightgallery.min.js"></script>
        <script src="/js/app.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Suranna|Open+Sans:300,400,700" type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/lightgallery/1.3.9/css/lg-transitions.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/lightgallery/1.3.9/css/lightgallery.min.css">
        <link rel="stylesheet" type="text/css" href="/css/style.css" />
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Photato</title>
    </head>

    <body>  
        <div id="topbar">
            <div class="pageContainer row">
                <h1 class="left" data-bind="click: function(){moveToFolder('', true)}">Photato</h1>

                <form class="right" data-bind="submit: runSearchFromForm">
                    <div id="searchForm">
                        <input id="searchField" type="text" autocomplete="off" placeholder="Search"  />
                        <button type="submit">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <div id="mainContent">
            <div class="pageContainer">
                <h2 data-bind="text: currentPageTitle"></h2>

                <ul id="breadcrumb" data-bind="foreach: breadcrumbs">
                    <li>
                        <a data-bind="text: title, click: function(){if(url!=='#'){ $parent.moveToFolder(url, true)}}"></a>
                    </li>
                </ul>

                <div id="folders-gallery" data-bind="foreach: folders, style: {'margin':folders().length?'':'20px'}">
                    <div class="folder" data-bind="click: () => $parent.moveToFolder(path, true), style: {'background-image':'url(\''+thumbnail.url+'\')', width: thumbnail.height+'px', height: thumbnail.height+'px'}">
                        <div class="legend">
                            <i class="fa fa-folder"></i>
                            <span data-bind="text: filename"></span>
                        </div>
                    </div>
                </div>

                <div id="pictures-gallery" data-bind="foreach: pictures">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" data-bind=" style: {'background-image':'url(\''+thumbnail.url+'\')'} , attr: { 'data-width': thumbnail.width, width: thumbnail.width, height: thumbnail.height }, click: () => $parent.openLightGallery($index())" />
                </div>
            </div>
        </div>

        <div id="lightgallery"></div>

        <script type="text/javascript">
            var appVM = new GalleryViewModel();
            ko.applyBindings(appVM);
        </script>
    </body>
</html>